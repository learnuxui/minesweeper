(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),i=n.n(c),l=(n(27),n(10)),o=n(19),s=n(6),u={game:{grid:null,level:10,mineMarked:[],gameOver:!1,score:0,totalMines:20,levels:{EASY:10,MODRATE:14,HARD:16}}};var m=Object(l.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.game,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GRID":return Object(s.a)(Object(s.a)({},e),{},{grid:t.grid});case"CHANGE_DIFFICULTY_LEVEL":return Object(s.a)(Object(s.a)({},e),{},{level:t.level});case"GAME_OVER":return Object(s.a)(Object(s.a)({},e),{},{gameOver:t.value});case"MINE_MARKED":return Object(s.a)(Object(s.a)({},e),{},{mineMarked:t.mineMarked});case"RESET_MINE_MARKER":return Object(s.a)(Object(s.a)({},e),{},{mineMarked:[]});case"CHANGE_TOTAL_MINES":return Object(s.a)(Object(s.a)({},e),{},{totalMines:t.value});case"CHANGE_SCORE":return Object(s.a)(Object(s.a)({},e),{},{score:t.score});case"CHANGE_LEVELS":return Object(s.a)(Object(s.a)({},e),{},{levels:t.levels});default:return e}}});var h=n(13),v=n(2),p=n(3),d=n(5),f=n(4),O=n(9),E=n(7),b=n(8),j=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return this.props.game.gameOver?r.a.createElement("div",{className:"blink"}," Game Over "):null}}]),n}(r.a.Component);function g(e){return{type:"SET_GRID",grid:e}}function k(e){return{type:"GAME_OVER",value:e}}var M=function e(t,n){Object(v.a)(this,e),this.row=t,this.col=n,this.isOpen=!1,this.neighbors=0,this.isMine=!1,this.markAsMine=!1};function y(e){return Math.floor(Math.random()*Math.floor(e))}function C(){return function(e,t){var n=t().game,a=n.level,r=n.totalMines,c=[];e(k(!1)),e({type:"RESET_MINE_MARKER"});var i,l=0;for(i=0;i<a;i++)for(c[i]=[],l=0;l<a;l++)c[i][l]=new M(i,l);e(function(e){return function(t,n){var a,r,c=n().game.level;for(a=0;a<c;a++)for(r=0;r<c;r++){var i=e[a][r];i.isMine||(i.neighbors=A(e,i,c))}t(g(e))}}(function(e,t,n){var a=[];for(;a.length<n;){var r=y(t),c=y(t),i="(".concat(r,"-").concat(c,")");-1===a.indexOf(i)&&(a.push(i),e[r][c].isMine=!0,e[r][c].neighbors=-1)}return e}(c,a,r)))}}function N(){return function(e,t){var n,a,r=t().game,c=r.grid,i=r.level;for(n=0;n<i;n++)for(a=0;a<i;a++)c[n][a].isMine&&(c[n][a].isOpen=!0);e(g(c))}}function A(e,t,n){var a,r,c=t.row,i=t.col,l=0;for(a=c-1;a<=c+1;a++)for(r=i-1;r<=i+1;r++)a===c&&r===i||a<0||a>=n||r<0||r>=n||e[a][r].isMine&&l++;return l}function _(e){return function(t,n){var a=n().game.grid;e.isOpen=!0,a[e.row][e.col]=e,0===e.neighbors&&t(function(e,t){return function(n,a){var r,c,i=a().game.level,l=t.row,o=t.col;if(-1!==t.neighbors)for(r=l-1;r<=l+1;r++)for(c=o-1;c<=o+1;c++)r===l&&c===o||r<0||r>=i||c<0||c>=i||e[r][c].isMine||e[r][c].isOpen||e[r][c].markAsMine||(e[r][c].isOpen=!0,n(_(e[r][c])))}}(a,e)),t(g(a))}}function D(){return function(e){e((function(e,t){e(function(e){return{type:"CHANGE_SCORE",score:e}}(10*t().game.mineMarked.filter((function(e){return e.isMine})).length))})),e(k(!0))}}function w(e){return function(t,n){var a=n().game.level,r=e||a;t(function(e){return{type:"CHANGE_DIFFICULTY_LEVEL",level:e}}(r)),t({type:"CHANGE_TOTAL_MINES",value:2*r}),t(C())}}var R=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).onChange=e.onChange.bind(Object(O.a)(e)),e}return Object(p.a)(n,[{key:"onChange",value:function(e){(0,this.props.dispatch)(w(e.target.value))}},{key:"render",value:function(){var e=this.props.game.levels;return r.a.createElement("div",null,r.a.createElement("select",{onChange:this.onChange},r.a.createElement("option",{value:e.EASY},"Easy"),r.a.createElement("option",{value:e.MODRATE},"Moderate"),r.a.createElement("option",{value:e.HARD},"Hard")))}}]),n}(r.a.Component),S=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).handleStartOver=e.handleStartOver.bind(Object(O.a)(e)),e}return Object(p.a)(n,[{key:"handleStartOver",value:function(e){var t=this.props.dispatch;e.preventDefault(),t(w())}},{key:"render",value:function(){var e=this.props.game,t=e.mineMarked,n=e.totalMines,a=e.score;return r.a.createElement("div",{className:"game__bar"},r.a.createElement(j,this.props),r.a.createElement("div",{className:"options"},r.a.createElement(R,this.props),r.a.createElement("div",{className:"white"},r.a.createElement(E.a,{icon:b.c}),"\xa0\xa0",n-t.length),r.a.createElement("div",{className:"white"},"Score \xa0:\xa0 ",a),r.a.createElement("div",{className:"white",onClick:this.handleStartOver},r.a.createElement(E.a,{icon:b.e}))))}}]),n}(r.a.Component),I=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cellData,n=e.game.gameOver;return t.isMine&&t.isOpen&&n&&!t.markAsMine?r.a.createElement("div",{className:"mine"},r.a.createElement(E.a,{icon:b.a})):null}}]),n}(r.a.Component),F=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.cellData;return e.isOpen?0!==e.neighbors||e.isMine||e.markAsMine?null:"":r.a.createElement("div",null)}}]),n}(r.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props.cellData,t=e.neighbors;return!e.isMine&&t>0&&e.isOpen?r.a.createElement("div",{className:"count__color_".concat(t)}," ",t," "):null}}]),n}(r.a.Component),L=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.cellData,n=e.game.gameOver;return t&&t.markAsMine&&!n?r.a.createElement("div",{className:"mine"},r.a.createElement(E.a,{icon:b.c})):t&&t.markAsMine&&n?t.isMine?r.a.createElement("div",{className:"mine"},r.a.createElement(E.a,{icon:b.b})):r.a.createElement("div",{className:"mine"},r.a.createElement(E.a,{icon:b.f})):null}}]),n}(r.a.Component),G=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).handleClick=e.handleClick.bind(Object(O.a)(e)),e.handleFlagMark=e.handleFlagMark.bind(Object(O.a)(e)),e}return Object(p.a)(n,[{key:"handleClick",value:function(){var e=this.props,t=e.dispatch,n=e.cellData,a=e.game,r=a.gameOver,c=a.mineMarked,i=a.totalMines;if(n.isMine&&!r&&i>c.length&&!n.markAsMine)return t(_(n)),t(N()),void t(D());r||n.markAsMine||t(_(n))}},{key:"handleFlagMark",value:function(){var e=this.props,t=e.dispatch,n=e.cellData,a=e.game,r=a.gameOver,c=a.mineMarked,i=void 0===c?[]:c,l=a.totalMines;(n.markAsMine||!n.isOpen&&!r&&i.length<l)&&(n.markAsMine=!n.markAsMine,t(function(e){return function(t,n){var a=n().game,r=a.grid,c=a.mineMarked,i=e.row,l=e.col;r[i][l]=e,t(g(r)),e.markAsMine?c.push(e):c.splice(c.findIndex((function(t){return t.row===e.row&&t.col===e.col})),1),t(function(e){return{type:"MINE_MARKED",mineMarked:e}}(c))}}(n)))}},{key:"getClassName",value:function(){var e=this.props.cellData;return e.isOpen?(e.row+e.col)%2===0?"cell open--light":"cell open--dark":(e.row+e.col)%2===0?"cell even":"cell odd"}},{key:"render",value:function(){var e=this.getClassName();return r.a.createElement("div",{className:"".concat(e),onClick:this.handleClick,onContextMenu:this.handleFlagMark},r.a.createElement(I,this.props),r.a.createElement(T,this.props),r.a.createElement(F,this.props),r.a.createElement(L,this.props))}}]),n}(r.a.Component),H=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"renderMine",value:function(){return this.props.cellData.isMine?r.a.createElement("div",{className:"mine"},r.a.createElement(E.a,{icon:b.a})):null}},{key:"renderPlaceHolder",value:function(){var e=this.props.cellData;return 0!==e.neighbors||e.isMine?null:r.a.createElement("div",null,"E")}},{key:"renderCount",value:function(){var e=this.props.cellData,t=e.neighbors;return!e.isMine&&t>0?r.a.createElement("div",null," ",t," "):null}},{key:"render",value:function(){var e=this.props.cellData,t=(e.row+e.col)%2===0?"cell even":"cell odd";return r.a.createElement("div",{className:"".concat(t)},this.renderMine(),this.renderCount(),this.renderPlaceHolder())}}]),n}(a.Component),x=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"renderItem",value:function(e,t){var n="".concat(e.row,"-").concat(e.col),a=this.props,c=a.dispatch,i=a.game;return t?r.a.createElement("td",{key:n,className:"cell"}," ",r.a.createElement(H,{dispatch:c,cellData:e,game:i})," "):r.a.createElement("td",{key:n,className:"cell"}," ",r.a.createElement(G,{dispatch:c,cellData:e,game:i})," ")}},{key:"renderRow",value:function(e,t){var n=this;return r.a.createElement("tr",null,e.map((function(e){return n.renderItem(e,t)})))}},{key:"render",value:function(){var e=this,t=this.props.game.grid;return r.a.createElement("div",{className:"flex-test"},r.a.createElement("table",{cellPadding:"0"},r.a.createElement("tbody",null,t.map((function(t){return e.renderRow(t)})))))}}]),n}(r.a.Component),P=n(21),V=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).handleFinish=e.handleFinish.bind(Object(O.a)(e)),e}return Object(p.a)(n,[{key:"handleFinish",value:function(){var e=this.props.dispatch;e(N()),e(D())}},{key:"render",value:function(){return r.a.createElement("div",{className:"game__bar"},r.a.createElement("div",{className:"options"},r.a.createElement("button",{onClick:this.handleFinish},"Finish"),r.a.createElement("div",{"data-tip":!0,"data-for":"howToPlay",className:"white"},r.a.createElement(E.a,{icon:b.d})),r.a.createElement(P.a,{id:"howToPlay",place:"bottom",effect:"solid"},r.a.createElement("ul",null,r.a.createElement("li",null,"Left-Click on the cell to open it."),r.a.createElement("li",null,"Right-Click to mark/unmark a cell as mine."),r.a.createElement("li",null,"Click Finish to check marked flags are correct.")))))}}]),n}(r.a.Component),K=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return this.props.game.grid?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement(S,this.props),r.a.createElement(x,this.props),r.a.createElement(V,this.props)))):r.a.createElement("div",null,"Loading")}}]),n}(r.a.Component),Y=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).handleContextMenu=function(e){e.preventDefault()},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(w()),document.addEventListener("contextmenu",this.handleContextMenu)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,this.props))}}]),n}(r.a.Component),J=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y,this.props))}}]),n}(a.Component);var U,B=Object(h.b)((function(e){return{game:e.game}}))(J),q=(U=u,Object(l.d)(m,U,Object(l.a)(o.a)));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{store:q},r.a.createElement(B,null))),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.c0ec5e35.chunk.js.map